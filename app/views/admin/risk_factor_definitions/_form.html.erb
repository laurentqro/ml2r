<%= form_with(model: [:admin, risk_factor_definition], class: "space-y-8") do |form| %>
  <div class="pb-8">
    <p class="mt-1 text-sm text-base-content/60">Configure risk factors that will be used to assess AML risk levels.</p>

    <% if risk_factor_definition.errors.any? %>
      <div class="alert alert-error mt-6">
        <div>
          <h3 class="font-medium">
            <%= pluralize(risk_factor_definition.errors.count, "error") %> prohibited this risk factor definition from being saved:
          </h3>
          <div class="mt-2">
            <ul class="list-disc space-y-1 pl-5">
              <% risk_factor_definition.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    <% end %>

    <div class="mt-8 space-y-6">
      <div class="form-control w-full max-w-md">
        <%= form.label :entity_type, class: "label pb-1" do %>
          <span class="label-text">Entity Type</span>
        <% end %>
        <div class="relative">
          <%= form.select :entity_type,
                       [['Person', 'Person'], ['Company', 'Company']],
                       { include_blank: 'Select type' },
                       class: "select select-bordered w-full" %>
        </div>
      </div>

      <div class="form-control w-full max-w-md">
        <%= form.label :category, class: "label pb-1" do %>
          <span class="label-text">Category</span>
        <% end %>
        <div class="relative">
          <%= form.select :category,
                       [
                         ['Client Risk', 'client_risk'], 
                         ['Products and Services Risk', 'products_and_services_risk'],
                         ['Distribution Channel Risk', 'distribution_channel_risk'],
                         ['Transaction Risk', 'transaction_risk']
                       ],
                       { include_blank: 'Select category' },
                       class: "select select-bordered w-full" %>
        </div>
      </div>

      <div class="form-control w-full max-w-xs">
        <%= form.label :score, class: "label pb-1" do %>
          <span class="label-text">Score</span>
        <% end %>
        <%= form.number_field :score, min: 0, class: "input input-bordered w-full" %>
      </div>

      <div class="form-control w-full">
        <%= form.label :description, class: "label pb-1" do %>
          <span class="label-text">Description</span>
        <% end %>
        <%= form.text_area :description, rows: 3, class: "textarea textarea-bordered w-full" %>
        <div class="label">
          <span class="label-text-alt text-base-content/60">Provide a clear description of this risk factor and when it should be applied.</span>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-6 flex items-center justify-end gap-x-6">
    <%= link_to "Cancel", admin_risk_factor_definitions_path, 
        class: "btn btn-ghost" %>
    <%= form.submit class: "btn btn-primary" %>
  </div>
<% end %>