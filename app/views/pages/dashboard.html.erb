<div class="mx-auto py-8 px-4">
  <div class="mb-8">
    <h1 class="text-2xl font-bold text-center">Client Statistics</h1>
    <p class="text-base-content/60 text-center mt-2">Number of clients in each risk category</p>
  </div>

  <!-- Statistics Cards -->
  <%= render "shared/statistics",
    clear_count: @clear_count,
    pep_count: @pep_count,
    sanctioned_count: @sanctioned_count,
    with_adverse_media_count: @with_adverse_media_count
  %>
</div>

<div class="container mx-auto py-8 px-4">
  <div class="mb-8">
    <h1 class="text-2xl font-bold text-center">Risk Assessment Matrices</h1>
    <p class="text-base-content/60 text-center mt-2">Visual representation of risk factors across different categories</p>
  </div>

  <!-- Legend -->
  <div class="card bg-base-100 border border-base-200 shadow-sm mb-8 max-w-md mx-auto">
    <div class="card-body p-4">
      <h3 class="text-sm font-medium text-center mb-2">Risk Level Legend</h3>
      <div class="flex items-center justify-center gap-6">
        <div class="flex items-center">
          <div class="badge badge-sm badge-outline badge-success mr-2"></div>
          <span class="text-sm">Low Risk</span>
        </div>
        <div class="flex items-center">
          <div class="badge badge-sm badge-outline badge-warning mr-2"></div>
          <span class="text-sm">Medium Risk</span>
        </div>
        <div class="flex items-center">
          <div class="badge badge-sm badge-outline badge-error mr-2"></div>
          <span class="text-sm">High Risk</span>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Client</h2>
        <%= render "risk_matrix", risk_matrix: @client_risk_matrix %>
      </div>
    </div>

    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Country</h2>
        <%= render "risk_matrix", risk_matrix: @country_risk_matrix %>
      </div>
    </div>

    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Products & Services</h2>
        <%= render "risk_matrix", risk_matrix: @products_risk_matrix %>
      </div>
    </div>

    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Distribution Channel</h2>
        <%= render "risk_matrix", risk_matrix: @distribution_risk_matrix %>
      </div>
    </div>

    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Transaction</h2>
        <%= render "risk_matrix", risk_matrix: @transaction_risk_matrix %>
      </div>
    </div>

    <div class="card bg-base-100 border border-base-200 shadow-sm">
      <div class="card-body p-5">
        <h2 class="text-lg font-semibold text-center mb-4">Overall Risk</h2>
        <%= render "risk_matrix", risk_matrix: @total_risk_matrix %>
      </div>
    </div>
  </div>
</div>
