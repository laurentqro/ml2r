<div class="container mx-auto px-4 py-8">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <div class="flex items-center justify-between mb-6">
        <div>
          <h1 class="card-title text-2xl"><%= @match.caption %></h1>

          <div class="mt-2 flex flex-wrap gap-2">
            <% if @match.schema.present? %>
              <span class="badge">
                <%= @match.schema %>
              </span>
            <% end %>

            <% @match.topics.each do |topic| %>
              <span class="badge <%= topic_badge_classes(topic).include?('red') ? 'badge-error' : topic_badge_classes(topic).include?('yellow') ? 'badge-warning' : topic_badge_classes(topic).include?('green') ? 'badge-success' : 'badge-info' %>">
                <%= topic_description(topic) %>
              </span>
            <% end %>

            <span class="badge <%= match_score_classes(@match.external_score).include?('red') ? 'badge-error' : match_score_classes(@match.external_score).include?('yellow') ? 'badge-warning' : match_score_classes(@match.external_score).include?('green') ? 'badge-success' : 'badge-info' %>">
              Match Score: <%= @match.external_score %>
            </span>
          </div>
        </div>
      </div>

      <%= render "table", match: @match %>

      <%= render "sanctions_table", sanctions: @match.sanctions %>

      <%= render "raw_data", data: @match.external_data %>

      <div class="flex justify-end mt-8">
        <%= link_to "Back", @screening.screenable, class: "btn btn-primary" %>
      </div>
    </div>
  </div>
</div> 